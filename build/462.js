"use strict";(globalThis.webpackChunkthirty_three=globalThis.webpackChunkthirty_three||[]).push([[462],{462:(e,t,r)=>{r.r(t),r.d(t,{ThreeMFLoader:()=>W});var n=r(437),o=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};try{URL.revokeObjectURL(o(""))}catch(e){o=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var s=Uint8Array,i=Uint16Array,a=Uint32Array,l=new s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=function(e,t){for(var r=new i(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var o=new a(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)o[s]=s-r[n]<<5|n;return[r,o]},f=p(l,2),d=f[0],h=f[1];d[28]=258,h[258]=28;for(var g=p(u,0),b=g[0],v=(g[1],new i(32768)),m=0;m<32768;++m){var y=(43690&m)>>>1|(21845&m)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,v[m]=((65280&y)>>>8|(255&y)<<8)>>>1}var A=function(e,t,r){for(var n=e.length,o=0,s=new i(t);o<n;++o)++s[e[o]-1];var a,l=new i(t);for(o=0;o<t;++o)l[o]=l[o-1]+s[o-1]<<1;if(r){a=new i(1<<t);var u=15-t;for(o=0;o<n;++o)if(e[o])for(var c=o<<4|e[o],p=t-e[o],f=l[e[o]-1]++<<p,d=f|(1<<p)-1;f<=d;++f)a[v[f]>>>u]=c}else for(a=new i(n),o=0;o<n;++o)e[o]&&(a[o]=v[l[e[o]-1]++]>>>15-e[o]);return a},w=new s(288);for(m=0;m<144;++m)w[m]=8;for(m=144;m<256;++m)w[m]=9;for(m=256;m<280;++m)w[m]=7;for(m=280;m<288;++m)w[m]=8;var x=new s(32);for(m=0;m<32;++m)x[m]=5;var F=A(w,9,1),S=A(x,5,1),M=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},k=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},j=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},C=function(e){return(e/8|0)+(7&e&&1)},E=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof i?i:e instanceof a?a:s)(r-t);return n.set(e.subarray(t,r)),n},L=new s(0),R=function(e,t){return e[t]|e[t+1]<<8},T=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},q=function(e,t){return T(e,t)+4294967296*T(e,t+4)};function O(e,t){return function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new s(0);var o=!t||r,i=!r||r.i;r||(r={}),t||(t=new s(3*n));var a=function(e){var r=t.length;if(e>r){var n=new s(Math.max(2*r,e));n.set(t),t=n}},p=r.f||0,f=r.p||0,h=r.b||0,g=r.l,v=r.d,m=r.m,y=r.n,w=8*n;do{if(!g){r.f=p=k(e,f,1);var x=k(e,f+1,3);if(f+=3,!x){var L=e[(W=C(f)+4)-4]|e[W-3]<<8,R=W+L;if(R>n){if(i)throw"unexpected EOF";break}o&&a(h+L),t.set(e.subarray(W,R),h),r.b=h+=L,r.p=f=8*R;continue}if(1==x)g=F,v=S,m=9,y=5;else{if(2!=x)throw"invalid block type";var T=k(e,f,31)+257,q=k(e,f+10,15)+4,O=T+k(e,f+5,31)+1;f+=14;for(var I=new s(O),U=new s(19),B=0;B<q;++B)U[c[B]]=k(e,f+3*B,7);f+=3*q;var D=M(U),P=(1<<D)-1,G=A(U,D,1);for(B=0;B<O;){var W,_=G[k(e,f,P)];if(f+=15&_,(W=_>>>4)<16)I[B++]=W;else{var H=0,$=0;for(16==W?($=3+k(e,f,3),f+=2,H=I[B-1]):17==W?($=3+k(e,f,7),f+=3):18==W&&($=11+k(e,f,127),f+=7);$--;)I[B++]=H}}var N=I.subarray(0,T),z=I.subarray(T);m=M(N),y=M(z),g=A(N,m,1),v=A(z,y,1)}if(f>w){if(i)throw"unexpected EOF";break}}o&&a(h+131072);for(var J=(1<<m)-1,K=(1<<y)-1,Q=f;;Q=f){var V=(H=g[j(e,f)&J])>>>4;if((f+=15&H)>w){if(i)throw"unexpected EOF";break}if(!H)throw"invalid length/literal";if(V<256)t[h++]=V;else{if(256==V){Q=f,g=null;break}var X=V-254;if(V>264){var Y=l[B=V-257];X=k(e,f,(1<<Y)-1)+d[B],f+=Y}var Z=v[j(e,f)&K],ee=Z>>>4;if(!Z)throw"invalid distance";if(f+=15&Z,z=b[ee],ee>3&&(Y=u[ee],z+=j(e,f)&(1<<Y)-1,f+=Y),f>w){if(i)throw"unexpected EOF";break}o&&a(h+131072);for(var te=h+X;h<te;h+=4)t[h]=t[h-z],t[h+1]=t[h+1-z],t[h+2]=t[h+2-z],t[h+3]=t[h+3-z];h=te}}r.l=g,r.p=Q,r.b=h,g&&(p=1,r.m=m,r.d=v,r.n=y)}while(!p);return h==t.length?t:E(t,0,h)}(e,t)}var I="undefined"!=typeof TextDecoder&&new TextDecoder;try{I.decode(L,{stream:!0})}catch(e){}function U(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(I)return I.decode(e);var o=function(e){for(var t="",r=0;;){var n=e[r++],o=(n>127)+(n>223)+(n>239);if(r+o>e.length)return[t,E(e,r-1)];o?3==o?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&o?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}}(e),s=o[0];if(o[1].length)throw"invalid utf-8 data";return s}var B=function(e,t){return t+30+R(e,t+26)+R(e,t+28)},D=function(e,t,r){var n=R(e,t+28),o=U(e.subarray(t+46,t+46+n),!(2048&R(e,t+8))),s=t+46+n,i=T(e,t+20),a=r&&4294967295==i?P(e,s):[i,T(e,t+24),T(e,t+42)],l=a[0],u=a[1],c=a[2];return[R(e,t+10),l,u,o,s+R(e,t+30)+R(e,t+32),c]},P=function(e,t){for(;1!=R(e,t);t+=4+R(e,t+2));return[q(e,t+12),q(e,t+4),q(e,t+20)]};const G=n.SRGBColorSpace;class W extends n.Loader{constructor(e){super(e),this.availableExtensions=[]}load(e,t,r,o){const s=this,i=new n.FileLoader(s.manager);i.setPath(s.path),i.setResponseType("arraybuffer"),i.setRequestHeader(s.requestHeader),i.setWithCredentials(s.withCredentials),i.load(e,function(r){try{t(s.parse(r))}catch(t){o?o(t):console.error(t),s.manager.itemError(e)}},r,o)}parse(e){const t=this,r=new n.TextureLoader(this.manager);function o(e){const t=[],r=(new DOMParser).parseFromString(e,"application/xml").querySelectorAll("Relationship");for(let e=0;e<r.length;e++){const n=r[e],o={target:n.getAttribute("Target"),id:n.getAttribute("Id"),type:n.getAttribute("Type")};t.push(o)}return t}function i(e){const t={id:e.getAttribute("id"),basematerials:[]},r=e.querySelectorAll("base");for(let e=0;e<r.length;e++){const n=p(r[e]);n.index=e,t.basematerials.push(n)}return t}function a(e){return{id:e.getAttribute("id"),path:e.getAttribute("path"),contenttype:e.getAttribute("contenttype"),tilestyleu:e.getAttribute("tilestyleu"),tilestylev:e.getAttribute("tilestylev"),filter:e.getAttribute("filter")}}function l(e){const t={id:e.getAttribute("id"),texid:e.getAttribute("texid"),displaypropertiesid:e.getAttribute("displaypropertiesid")},r=e.querySelectorAll("tex2coord"),n=[];for(let e=0;e<r.length;e++){const t=r[e],o=t.getAttribute("u"),s=t.getAttribute("v");n.push(parseFloat(o),parseFloat(s))}return t.uvs=new Float32Array(n),t}function u(e){const t={id:e.getAttribute("id"),displaypropertiesid:e.getAttribute("displaypropertiesid")},r=e.querySelectorAll("color"),o=[],s=new n.Color;for(let e=0;e<r.length;e++){const t=r[e].getAttribute("color");s.setStyle(t.substring(0,7),G),o.push(s.r,s.g,s.b)}return t.colors=new Float32Array(o),t}function c(e){const t={id:e.getAttribute("id")},r=e.querySelectorAll("pbmetallic"),n=[];for(let e=0;e<r.length;e++){const t=r[e];n.push({name:t.getAttribute("name"),metallicness:parseFloat(t.getAttribute("metallicness")),roughness:parseFloat(t.getAttribute("roughness"))})}return t.data=n,t}function p(e){const t={};return t.name=e.getAttribute("name"),t.displaycolor=e.getAttribute("displaycolor"),t.displaypropertiesid=e.getAttribute("displaypropertiesid"),t}function f(e){const t={};t.objectId=e.getAttribute("objectid");const r=e.getAttribute("transform");return r&&(t.transform=d(r)),t}function d(e){const t=[];e.split(" ").forEach(function(e){t.push(parseFloat(e))});const r=new n.Matrix4;return r.set(t[0],t[3],t[6],t[9],t[1],t[4],t[7],t[10],t[2],t[5],t[8],t[11],0,0,0,1),r}function h(e){const t={type:e.getAttribute("type")},r=e.getAttribute("id");r&&(t.id=r);const n=e.getAttribute("pid");n&&(t.pid=n);const o=e.getAttribute("pindex");o&&(t.pindex=o);const s=e.getAttribute("thumbnail");s&&(t.thumbnail=s);const i=e.getAttribute("partnumber");i&&(t.partnumber=i);const a=e.getAttribute("name");a&&(t.name=a);const l=e.querySelector("mesh");l&&(t.mesh=function(e){const t={},r=[],n=e.querySelectorAll("vertices vertex");for(let e=0;e<n.length;e++){const t=n[e],o=t.getAttribute("x"),s=t.getAttribute("y"),i=t.getAttribute("z");r.push(parseFloat(o),parseFloat(s),parseFloat(i))}t.vertices=new Float32Array(r);const o=[],s=[],i=e.querySelectorAll("triangles triangle");for(let e=0;e<i.length;e++){const t=i[e],r=t.getAttribute("v1"),n=t.getAttribute("v2"),a=t.getAttribute("v3"),l=t.getAttribute("p1"),u=t.getAttribute("p2"),c=t.getAttribute("p3"),p=t.getAttribute("pid"),f={};f.v1=parseInt(r,10),f.v2=parseInt(n,10),f.v3=parseInt(a,10),s.push(f.v1,f.v2,f.v3),l&&(f.p1=parseInt(l,10)),u&&(f.p2=parseInt(u,10)),c&&(f.p3=parseInt(c,10)),p&&(f.pid=p),0<Object.keys(f).length&&o.push(f)}return t.triangleProperties=o,t.triangles=new Uint32Array(s),t}(l));const u=e.querySelector("components");return u&&(t.components=function(e){const t=[],r=e.querySelectorAll("component");for(let e=0;e<r.length;e++){const n=f(r[e]);t.push(n)}return t}(u)),t}function g(e){const t={unit:e.getAttribute("unit")||"millimeter"},r=e.querySelectorAll("metadata");r&&(t.metadata=function(e){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=n.getAttribute("name");0<=["Title","Designer","Description","Copyright","LicenseTerms","Rating","CreationDate","ModificationDate"].indexOf(o)&&(t[o]=n.textContent)}return t}(r));const n=e.querySelector("resources");n&&(t.resources=function(e){const t={basematerials:{}},r=e.querySelectorAll("basematerials");for(let e=0;e<r.length;e++){const n=i(r[e]);t.basematerials[n.id]=n}t.texture2d={};const n=e.querySelectorAll("texture2d");for(let e=0;e<n.length;e++){const r=a(n[e]);t.texture2d[r.id]=r}t.colorgroup={};const o=e.querySelectorAll("colorgroup");for(let e=0;e<o.length;e++){const r=u(o[e]);t.colorgroup[r.id]=r}t.pbmetallicdisplayproperties={};const s=e.querySelectorAll("pbmetallicdisplayproperties");for(let e=0;e<s.length;e++){const r=c(s[e]);t.pbmetallicdisplayproperties[r.id]=r}t.texture2dgroup={};const p=e.querySelectorAll("texture2dgroup");for(let e=0;e<p.length;e++){const r=l(p[e]);t.texture2dgroup[r.id]=r}t.object={};const f=e.querySelectorAll("object");for(let e=0;e<f.length;e++){const r=h(f[e]);t.object[r.id]=r}return t}(n));const o=e.querySelector("build");return o&&(t.build=function(e){const t=[],r=e.querySelectorAll("item");for(let e=0;e<r.length;e++){const n=r[e],o={objectId:n.getAttribute("objectid")},s=n.getAttribute("transform");s&&(o.transform=d(s)),t.push(o)}return t}(o)),t}function b(e,t,o,s){const i=e.texid,a=o.resources.texture2d[i];if(a){const e=s[a.path],t=a.contenttype,o=new Blob([e],{type:t}),i=URL.createObjectURL(o),l=r.load(i,function(){URL.revokeObjectURL(i)});switch(l.colorSpace=G,a.tilestyleu){case"wrap":default:l.wrapS=n.RepeatWrapping;break;case"mirror":l.wrapS=n.MirroredRepeatWrapping;break;case"none":case"clamp":l.wrapS=n.ClampToEdgeWrapping}switch(a.tilestylev){case"wrap":default:l.wrapT=n.RepeatWrapping;break;case"mirror":l.wrapT=n.MirroredRepeatWrapping;break;case"none":case"clamp":l.wrapT=n.ClampToEdgeWrapping}switch(a.filter){case"auto":default:l.magFilter=n.LinearFilter,l.minFilter=n.LinearMipmapLinearFilter;break;case"linear":l.magFilter=n.LinearFilter,l.minFilter=n.LinearFilter;break;case"nearest":l.magFilter=n.NearestFilter,l.minFilter=n.NearestFilter}return l}return null}function v(e,t,r,o,s,i,a){const l=a.pindex,u={};for(let e=0,r=t.length;e<r;e++){const r=t[e],n=void 0!==r.p1?r.p1:l;void 0===u[n]&&(u[n]=[]),u[n].push(r)}const c=Object.keys(u),p=[];for(let t=0,l=c.length;t<l;t++){const l=c[t],f=u[l],d=F(e.basematerials[l],o,s,i,a,S),h=new n.BufferGeometry,g=[],b=r.vertices;for(let e=0,t=f.length;e<t;e++){const t=f[e];g.push(b[3*t.v1+0]),g.push(b[3*t.v1+1]),g.push(b[3*t.v1+2]),g.push(b[3*t.v2+0]),g.push(b[3*t.v2+1]),g.push(b[3*t.v2+2]),g.push(b[3*t.v3+0]),g.push(b[3*t.v3+1]),g.push(b[3*t.v3+2])}h.setAttribute("position",new n.Float32BufferAttribute(g,3));const v=new n.Mesh(h,d);p.push(v)}return p}function m(e,t,r,o,s,i,a){const l=new n.BufferGeometry,u=[],c=[],p=r.vertices,f=e.uvs;for(let e=0,r=t.length;e<r;e++){const r=t[e];u.push(p[3*r.v1+0]),u.push(p[3*r.v1+1]),u.push(p[3*r.v1+2]),u.push(p[3*r.v2+0]),u.push(p[3*r.v2+1]),u.push(p[3*r.v2+2]),u.push(p[3*r.v3+0]),u.push(p[3*r.v3+1]),u.push(p[3*r.v3+2]),c.push(f[2*r.p1+0]),c.push(f[2*r.p1+1]),c.push(f[2*r.p2+0]),c.push(f[2*r.p2+1]),c.push(f[2*r.p3+0]),c.push(f[2*r.p3+1])}l.setAttribute("position",new n.Float32BufferAttribute(u,3)),l.setAttribute("uv",new n.Float32BufferAttribute(c,2));const d=F(e,o,s,i,a,b),h=new n.MeshPhongMaterial({map:d,flatShading:!0});return new n.Mesh(l,h)}function y(e,t,r,o){const s=new n.BufferGeometry,i=[],a=[],l=r.vertices,u=e.colors;for(let e=0,r=t.length;e<r;e++){const r=t[e],n=r.v1,s=r.v2,c=r.v3;i.push(l[3*n+0]),i.push(l[3*n+1]),i.push(l[3*n+2]),i.push(l[3*s+0]),i.push(l[3*s+1]),i.push(l[3*s+2]),i.push(l[3*c+0]),i.push(l[3*c+1]),i.push(l[3*c+2]);const p=void 0!==r.p1?r.p1:o.pindex,f=void 0!==r.p2?r.p2:p,d=void 0!==r.p3?r.p3:p;a.push(u[3*p+0]),a.push(u[3*p+1]),a.push(u[3*p+2]),a.push(u[3*f+0]),a.push(u[3*f+1]),a.push(u[3*f+2]),a.push(u[3*d+0]),a.push(u[3*d+1]),a.push(u[3*d+2])}s.setAttribute("position",new n.Float32BufferAttribute(i,3)),s.setAttribute("color",new n.Float32BufferAttribute(a,3));const c=new n.MeshPhongMaterial({vertexColors:!0,flatShading:!0});return new n.Mesh(s,c)}function A(e){const t=new n.BufferGeometry;t.setIndex(new n.BufferAttribute(e.triangles,1)),t.setAttribute("position",new n.BufferAttribute(e.vertices,3));const r=new n.MeshPhongMaterial({name:n.Loader.DEFAULT_MATERIAL_NAME,color:16777215,flatShading:!0});return new n.Mesh(t,r)}function w(e,t){return void 0!==t.resources.texture2dgroup[e]?"texture":void 0!==t.resources.basematerials[e]?"material":void 0!==t.resources.colorgroup[e]?"vertexColors":"default"===e?"default":void 0}function x(e,t,r,o,s){const i=new n.Group,a=function(e,t){const r={},n=e.triangleProperties,o=t.pid;for(let e=0,t=n.length;e<t;e++){const t=n[e];let s=void 0!==t.pid?t.pid:o;void 0===s&&(s="default"),void 0===r[s]&&(r[s]=[]),r[s].push(t)}return r}(e,s),l=function(e,t,r,n,o,s){const i=Object.keys(e),a=[];for(let l=0,u=i.length;l<u;l++){const u=i[l],c=e[u];switch(w(u,n)){case"material":const e=v(n.resources.basematerials[u],c,t,r,n,o,s);for(let t=0,r=e.length;t<r;t++)a.push(e[t]);break;case"texture":const i=n.resources.texture2dgroup[u];a.push(m(i,c,t,r,n,o,s));break;case"vertexColors":const l=n.resources.colorgroup[u];a.push(y(l,c,t,s));break;case"default":a.push(A(t));break;default:console.error("THREE.3MFLoader: Unsupported resource type.")}}if(s.name)for(let e=0;e<a.length;e++)a[e].name=s.name;return a}(a,e,t,r,o,s);for(let e=0,t=l.length;e<t;e++)i.add(l[e]);return i}function F(e,t,r,n,o,s){return void 0!==e.build||(e.build=s(e,t,r,n,o)),e.build}function S(e,t,r){let o;const s=e.displaypropertiesid,i=r.resources.pbmetallicdisplayproperties;if(null!==s&&void 0!==i[s]){const t=i[s].data[e.index];o=new n.MeshStandardMaterial({flatShading:!0,roughness:t.roughness,metalness:t.metallicness})}else o=new n.MeshPhongMaterial({flatShading:!0});o.name=e.name;const a=e.displaycolor,l=a.substring(0,7);return o.color.setStyle(l,G),9===a.length&&(o.opacity=parseInt(a.charAt(7)+a.charAt(8),16)/255),o}function M(e,t,r,o){const s=new n.Group;for(let n=0;n<e.length;n++){const i=e[n];let a=t[i.objectId];void 0===a&&(k(i.objectId,t,r,o),a=t[i.objectId]);const l=a.clone(),u=i.transform;u&&l.applyMatrix4(u),s.add(l)}return s}function k(e,r,n,o){const s=n.resources.object[e];if(s.mesh){const e=s.mesh;!function(e,r,n){if(!e)return;const o=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const r=s[e];for(let e=0;e<t.availableExtensions.length;e++){const n=t.availableExtensions[e];n.ns===r&&o.push(n)}}for(let t=0;t<o.length;t++){const s=o[t];s.apply(n,e[s.ns],r)}}(n.extensions,e,n.xml),r[s.id]=F(e,r,n,o,s,x)}else{const e=s.components;r[s.id]=F(e,r,n,o,s,M)}s.name&&(r[s.id].name=s.name)}const j=function(e){let t,r,n=null,i=null;const a=[],l=[];let u;const c={},p={},f=new TextDecoder;try{n=function(e){for(var t={},r=e.length-22;101010256!=T(e,r);--r)if(!r||e.length-r>65558)throw"invalid zip file";var n=R(e,r+8);if(!n)return{};var o=T(e,r+16),i=4294967295==o;if(i){if(r=T(e,r-12),101075792!=T(e,r))throw"invalid zip file";n=T(e,r+32),o=T(e,r+48)}for(var a=0;a<n;++a){var l=D(e,o,i),u=l[0],c=l[1],p=l[2],f=l[3],d=l[4],h=l[5],g=B(e,h);if(o=d,u){if(8!=u)throw"unknown compression type "+u;t[f]=O(e.subarray(g,g+c),new s(p))}else t[f]=E(e,g,g+c)}return t}(new Uint8Array(e))}catch(e){if(e instanceof ReferenceError)return console.error("THREE.3MFLoader: fflate missing and file is compressed."),null}for(i in n)i.match(/\_rels\/.rels$/)?t=i:i.match(/3D\/_rels\/.*\.model\.rels$/)?r=i:i.match(/^3D\/.*\.model$/)?a.push(i):i.match(/^3D\/Textures?\/.*/)&&l.push(i);const d=n[t],h=o(f.decode(d));if(r){const e=n[r];u=o(f.decode(e))}for(let e=0;e<a.length;e++){const t=a[e],r=n[t],o=f.decode(r),s=(new DOMParser).parseFromString(o,"application/xml");"model"!==s.documentElement.nodeName.toLowerCase()&&console.error("THREE.3MFLoader: Error loading 3MF - no 3MF document found: ",t);const i=s.querySelector("model"),l={};for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e];t.name.match(/^xmlns:(.+)$/)&&(l[t.value]=RegExp.$1)}const u=g(i);u.xml=i,0<Object.keys(l).length&&(u.extensions=l),c[t]=u}for(let e=0;e<l.length;e++){const t=l[e];p[t]=n[t].buffer}return{rels:h,modelRels:u,model:c,printTicket:{},texture:p}}(e),C=function(e){const t=e.model,r=e.modelRels,n={},o=Object.keys(t),s={};if(r)for(let t=0,n=r.length;t<n;t++){const n=r[t],o=n.target.substring(1);e.texture[o]&&(s[n.target]=e.texture[o])}for(let e=0;e<o.length;e++){const r=t[o[e]],i=Object.keys(r.resources.object);for(let e=0;e<i.length;e++)k(i[e],n,r,s)}return n}(j);return function(e,t){const r=new n.Group,o=function(e){for(let t=0;t<e.length;t++){const r=e[t];if("model"===r.target.split(".").pop().toLowerCase())return r}}(t.rels),s=t.model[o.target.substring(1)].build;for(let t=0;t<s.length;t++){const n=s[t],o=e[n.objectId].clone(),i=n.transform;i&&o.applyMatrix4(i),r.add(o)}return r}(C,j)}addExtension(e){this.availableExtensions.push(e)}}}}]);